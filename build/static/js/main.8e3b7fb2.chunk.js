(this.webpackJsonpbuddytalk=this.webpackJsonpbuddytalk||[]).push([[0],{76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var s=c(3),n=c(2),a=c.n(n),i=c(27),r=c.n(i),l=(c(76),c(13)),j=(c(77),c(30)),o=c(9),d=(c(78),c(108)),b=c(49),u=c.n(b),h=c(50),O=c.n(h),m=c(51),p=c.n(m),x=Object(n.createContext)(),g=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(s.jsx)(x.Provider,{value:Object(n.useReducer)(t,c),children:a})},f=function(){return Object(n.useContext)(x)};var v=function(){var e=f(),t=Object(l.a)(e,1)[0].user;return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("div",{className:"header_left",children:[Object(s.jsx)(d.a,{className:"header_avatar",alt:null===t||void 0===t?void 0:t.displayName,src:null===t||void 0===t?void 0:t.photoURL}),Object(s.jsx)(u.a,{})]}),Object(s.jsxs)("div",{className:"header_search",children:[Object(s.jsx)(O.a,{}),Object(s.jsx)("input",{placeholder:"Search BuddyTalk"})]}),Object(s.jsx)("div",{className:"header_right",children:Object(s.jsx)(p.a,{})})]})},N=(c(83),c(52)),y=c.n(N),_=c(53),S=c.n(_),I=c(54),k=c.n(I),w=(c(84),c(29)),C=w.a.initializeApp({apiKey:"AIzaSyBibiUcWR86AxAMdq1T_sZSyP7tG1zfPjI",authDomain:"buddytalk-b333.firebaseapp.com",databaseURL:"https://buddytalk-b333.firebaseio.com",projectId:"buddytalk-b333",storageBucket:"buddytalk-b333.appspot.com",messagingSenderId:"1006666237282",appId:"1:1006666237282:web:7cf68c27af088744ac183b",measurementId:"G-KMM81172S6"}).firestore(),T=w.a.auth(),P=new w.a.auth.GoogleAuthProvider,B=C;var D=function(e){var t=e.Icon,c=e.title,n=e.id,a=e.addChannelOption,i=Object(o.f)();return Object(s.jsxs)("div",{className:"sidebarOption",onClick:a?function(){var e=prompt("Please enter the channel name");e&&B.collection("channelgroups").add({name:e})}:function(){n?(console.log(n),i.push("/chan/".concat(n))):i.push("/page/".concat(c))},children:[t&&Object(s.jsx)(t,{className:"sidebarOption_icon"}),t?Object(s.jsxs)("h3",{children:[" ",c]}):Object(s.jsxs)("h3",{className:"sidebarOption_channel",children:[Object(s.jsx)("span",{className:"sidebarOption_hash",children:"#"}),c]})]})},R=c(55),A=c.n(R),F=c(56),L=c.n(F),U=c(57),M=c.n(U),E=c(60),G=c.n(E),z=c(58),W=c.n(z),J=c(59),K=c.n(J),q=c(61),H=c.n(q),V=c(62),Z=c.n(V),Q=c(63),X=c.n(Q);var Y=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=f(),r=Object(l.a)(i,1)[0].user;return Object(n.useEffect)((function(){B.collection("channelgroups").onSnapshot((function(e){return a(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),Object(s.jsxs)("div",{className:"sidebar",children:[Object(s.jsxs)("div",{className:"sidebar_header",children:[Object(s.jsxs)("div",{className:"sidebar_info",children:[Object(s.jsx)("h2",{children:"Talko"}),Object(s.jsxs)("h3",{children:[Object(s.jsx)(y.a,{}),null===r||void 0===r?void 0:r.displayName]})]}),Object(s.jsx)(S.a,{})]}),Object(s.jsx)(D,{Icon:k.a,title:"Threads"}),Object(s.jsx)(D,{Icon:A.a,title:"Mentions & reactions"}),Object(s.jsx)(D,{Icon:L.a,title:"Saved items"}),Object(s.jsx)(D,{Icon:M.a,title:"Channel browser"}),Object(s.jsx)(D,{Icon:W.a,title:"People &user groups"}),Object(s.jsx)(D,{Icon:K.a,title:"Apps"}),Object(s.jsx)(D,{Icon:G.a,title:"File browser"}),Object(s.jsx)(D,{Icon:H.a,title:"ShowLess"}),Object(s.jsx)("hr",{}),Object(s.jsx)(D,{Icon:Z.a,title:"Channels"}),Object(s.jsx)("hr",{}),Object(s.jsx)(D,{Icon:X.a,addChannelOption:!0,id:!0,title:"Add Channel"}),c.map((function(e){return Object(s.jsx)(D,{title:e.name,id:e.id},e.id)}))]})};c(90),c(91);var $=function(e){var t=e.newpic,c=e.user,n=e.timestamp,a=e.message;return Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)("img",{src:t,alt:""}),Object(s.jsxs)("div",{className:"message_info",children:[Object(s.jsxs)("h4",{className:"message_user",children:[c,Object(s.jsxs)("span",{className:"message_timestamp",children:["   ",new Date(null===n||void 0===n?void 0:n.toDate()).toUTCString()]})]}),Object(s.jsxs)("p",{className:"message_message",children:[a," "]})]})]})},ee=c(64),te=c.n(ee),ce=c(65),se=c.n(ce),ne=c(66),ae=c.n(ne),ie=c(106);var re=function(){var e=Object(o.g)().id,t=Object(n.useState)(""),c=Object(l.a)(t,2),a=c[0],i=c[1],r=Object(n.useState)(""),j=Object(l.a)(r,2),d=j[0],b=j[1],u=Object(n.useState)([]),h=Object(l.a)(u,2),O=h[0],m=h[1],p=f(),x=Object(l.a)(p,2),g=x[0].user;return x[1],Object(n.useEffect)((function(){e&&(console.log(e),B.collection("channelgroups").doc(e).onSnapshot((function(e){return b(e.data().name)})),B.collection("channelgroups").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return m(e.docs.map((function(e){return e.data()})))})))}),[e]),console.log(d),console.log("Messages >>>>",O),Object(s.jsxs)("div",{className:"chat",children:[Object(s.jsxs)("div",{className:"chat_header",children:[Object(s.jsx)("div",{className:"chat_headerLeft",children:Object(s.jsxs)("h4",{className:"chat_channelName",children:[" ",Object(s.jsxs)("strong",{children:["# ",d]}),Object(s.jsx)(te.a,{})]})}),Object(s.jsx)("div",{className:"chat_headerRight",children:Object(s.jsxs)("p",{children:[Object(s.jsx)(se.a,{})," Details"]})})]}),Object(s.jsx)("div",{className:"chat_body",children:Object(s.jsx)("div",{className:"chat_messages",children:O.map((function(e){var t=e.newpic,c=e.user,n=e.timestamp,a=e.message;return Object(s.jsx)($,{newpic:t,user:c,timestamp:n,message:a})}))})}),Object(s.jsxs)("div",{className:"chat__footer",children:[Object(s.jsx)(ie.a,{children:Object(s.jsx)(ae.a,{})}),Object(s.jsxs)("form",{children:[Object(s.jsx)("input",{value:a,onChange:function(e){return i(e.target.value)},placeholder:"Type a message",type:"text"}),Object(s.jsx)("button",{onClick:function(t){t.preventDefault(),console.log("in Here"),console.log(a,t),console.log("Input Reads >>>>>>",a),B.collection("channelgroups").doc(e).collection("messages").add({message:a,user:g.displayName,newpic:g.photoURL,timestamp:w.a.firestore.FieldValue.serverTimestamp()})},type:"submit",children:" Send"})]})]})]})},le=(c(92),c(107)),je=c(40),oe="SET_USER",de=function(e,t){switch(console.log(t),t.type){case oe:return Object(je.a)(Object(je.a)({},e),{},{user:t.user});default:return e}};var be=function(){var e=f(),t=Object(l.a)(e,2),c=(t[0],t[1]);return Object(s.jsx)("div",{className:"login",children:Object(s.jsxs)("div",{className:"login_container",children:[Object(s.jsx)("img",{src:"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd-970-80.jpg.webp",alt:""}),Object(s.jsx)("h1",{children:" Sign in to TalkBuddy :p"}),Object(s.jsx)("p",{children:"talkaton.slack.com "}),Object(s.jsx)(le.a,{onClick:function(){T.signInWithPopup(P).then((function(e){console.log(e),c({type:oe,user:e.user})})).catch((function(e){alert(e.message)}))},children:" Sign in with Google"})]})})};c(93);var ue=function(){var e=Object(o.g)().title,t=f(),c=Object(l.a)(t,2),n=c[0].user;return c[1],Object(s.jsx)("div",{className:"emptypage__message",children:Object(s.jsxs)("h2",{children:[Object(s.jsxs)("span",{className:"emptypage__user",children:[" ",n.displayName," "]}),", you are in ",e," section "]})})};var he=function(){var e=f(),t=Object(l.a)(e,2),c=t[0].user;return t[1],Object(s.jsx)("div",{className:"app",children:Object(s.jsx)(j.a,{children:c?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{}),Object(s.jsxs)("div",{className:"app_body",children:[Object(s.jsx)(Y,{}),Object(s.jsxs)(o.c,{children:[Object(s.jsx)(o.a,{path:"/page/:title",children:Object(s.jsx)(ue,{})}),Object(s.jsx)(o.a,{path:"/chan/:id",children:Object(s.jsx)(re,{})}),Object(s.jsx)(o.a,{path:"/",children:Object(s.jsxs)("h1",{children:[" Welcome ",c.displayName," to TalkOBuddy Slack "]})})]})]})]}):Object(s.jsx)(be,{})})})},Oe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{initialState:{user:null},reducer:de,children:Object(s.jsx)(he,{})})}),document.getElementById("root")),Oe()}},[[94,1,2]]]);
//# sourceMappingURL=main.8e3b7fb2.chunk.js.map